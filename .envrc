# 1. ä½¿ç”¨æœ€æ–°çš„ Rust ç¨³å®šç‰ˆ
export RUSTUP_TOOLCHAIN=stable

# 2. æŒ‡å®šä½¿ç”¨ Anchor 0.32.1 (ç¡®ä¿å·²é€šè¿‡ avm install 0.32.1 å®‰è£…)
export PATH="$HOME/.avm/bin/0.32.1/bin:$PATH"

# 3. ç¡®ä¿ Solana CLI æŒ‡å‘ v3.1.8 (ä¼˜å…ˆä½¿ç”¨ç‰¹å®šç‰ˆæœ¬ï¼Œfallback åˆ° active_release)
# Solana v3.1.8 å®‰è£…åœ¨ ~/.local/share/solana/install/releases/3.1.8/solana-release/bin
# å¦‚æœç‰¹å®šç‰ˆæœ¬ä¸å­˜åœ¨ï¼Œåˆ™ä½¿ç”¨ active_release
if [ -d "$HOME/.local/share/solana/install/releases/3.1.8/solana-release/bin" ]; then
    export PATH="$HOME/.local/share/solana/install/releases/3.1.8/solana-release/bin:$PATH"
else
    export PATH="$HOME/.local/share/solana/install/active_release/bin:$PATH"
fi

# éªŒè¯è¾“å‡º
echo "ğŸš€ Environment Updated:"
echo "   - Rust: $(rustc --version | cut -d' ' -f2)"
echo "   - Anchor: $(anchor --version | cut -d' ' -f2)"
echo "   - Solana CLI: $(solana --version | cut -d' ' -f2)"
